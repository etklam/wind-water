# 納音五行網站設計（Mobile First，繁中/簡中）

日期：2026-02-27

## 1. 目標
建立一個 mobile-first 的納音五行網站，支援繁體中文（zh-Hant）與簡體中文（zh-Hans），可輸入出生時間計算年/月/日/時四柱，並提供兩種排盤模式：
- 模式 A：公曆 + 使用者時區直排
- 模式 B：傳統規則（節氣換月、子初換日）

## 2. 技術方案
- 框架：Nuxt 4 + Vue 3
- i18n：@nuxtjs/i18n（zh-Hant / zh-Hans）
- 曆法計算：採用成熟套件處理干支與節氣（實作前先驗證精度）
- 納音映射：本地資料表（60 甲子 -> 納音 -> 五行）

## 3. 頁面與互動（Mobile First）
### 3.1 頁面結構
- 頂部：網站名稱 + 語言切換
- 輸入區：
  - 出生日期
  - 出生時間（可選未知時辰）
  - 時區（預設使用者時區，可手動修改）
  - 模式切換（A/B）
- 結果區：
  - 四柱干支（年/月/日/時）
  - 各柱納音
  - 各柱五行
  - 五行統計（木火土金水）

### 3.2 響應式策略
- 手機：單欄流程，結果卡片縱向排列
- 平板/桌機：結果區可兩欄
- 觸控優先：足夠點擊區、字級與間距

## 4. 資料流
1. 收集輸入（日期、時間、時區、模式）
2. 正規化為統一輸入結構
3. 計算四柱干支
4. 依干支查納音
5. 由納音映射五行並統計
6. 轉為 i18n 文案 key 並渲染

## 5. 規則定義
### 模式 A（公曆直排）
- 以輸入日期時間 + 時區直接計算
- 以當地 00:00 換日

### 模式 B（傳統）
- 月柱以節氣切換
- 日柱支援子初（23:00）換日
- UI 顯示採用規則，避免誤解

## 6. 錯誤與邊界
- 必填驗證：日期、時區；若非未知時辰則時間必填
- 計算錯誤：顯示可理解訊息，不暴露技術細節
- 邊界場景：
  - 節氣切換臨界
  - 子初（23:00）
  - DST 切換點

## 7. 測試策略
- 單元：
  - 60 甲子納音映射
  - 五行統計
  - 模式切換差異
- 邊界：節氣、子初、DST
- 介面：手機主要流程、繁簡切換完整性

## 8. MVP 範圍
- 單頁網站
- 四柱干支 + 納音 + 五行 + 五行統計
- 模式 A/B 切換
- i18n（繁中/簡中）
- 不含登入、歷史、分享
